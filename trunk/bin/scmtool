#!/usr/bin/ruby -w

if ARGV.length() == 0
    $stderr.puts("Use the 'checkintool' or 'revisiontool' scripts instead.")
    exit(1)
end

tool_name=ARGV.shift()

require 'fileutils.rb'
require 'pathname.rb'

# Cope with symbolic links to this script.
project_root = Pathname.new("#{__FILE__}/..").realpath().dirname()
salma_hayek = "#{project_root}/../salma-hayek"

require "#{salma_hayek}/bin/invoke-java.rb"

invoker = Java.new(tool_name, "e/util/Launcher")
invoker.set_icons("#{project_root}/lib/scm.icns", "#{project_root}/lib/scm-128.png")
invoker.invoke([ tool_name, "e.scm.#{tool_name}" ])
